<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>R&#xF3;wnania - MultiplicationGame</title>
    
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css?v=PI8n5gCcz9cQqQXm3PEtDuPG8qx9oFsFctPg0S5zb8g" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-" crossorigin="anonymous" />
    <link rel="stylesheet" href="/css/site.css?v=kMQGVrX1Am9fxSUTUSt5sjYqOknaqcgkEpnGQab2zr0" />
    <!-- <link rel="stylesheet" href="~/MultiplicationGame.styles.css" asp-append-version="true" /> -->
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container">
                <a class="navbar-brand" href="/">MultiplicationGame</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/Privacy">Privacy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/Diagnostics">Diagnostyka</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/Equations">Równania</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="page-center-wrapper">
        <div class="page-center-inner container">
            <main role="main" class="pb-3">
                
<h1>Równania</h1>

<form method="post" class="mb-3" action="/Equations?handler=Generate">
    <label for="difficulty" class="form-label">Poziom trudności</label>
    <select id="difficulty" name="Difficulty" class="form-select" onchange="this.form.submit()">
        <option value="1" selected="selected">Klasa 1</option>
        <option value="2">Klasa 2</option>
        <option value="3">Klasa 3</option>
    </select>
    
    <input type="hidden" name="TotalAnswered" value="1" />
    <input type="hidden" name="A" value="3" />
    <input type="hidden" name="B" value="4" />
    <input type="hidden" name="Operator" value="&amp;#xD7;" />
    <input type="hidden" name="UserAnswer" value="0" />
    <input type="hidden" name="NextQuestion" value="false" />
    <input type="hidden" name="HistoryRaw" value='[{&quot;Text&quot;:&quot;3 \u0026#xD7; 4&quot;,&quot;Correct&quot;:0,&quot;User&quot;:&quot;0&quot;,&quot;IsCorrect&quot;:true}]' />
    <noscript>
        <button type="submit" class="btn btn-outline-primary mt-2">Zmień poziom</button>
    </noscript>
    
    <div class="mt-3">
        <div class="d-flex flex-wrap gap-2">
                    <div class="badge bg-success">1</div>
                    <div class="badge bg-warning text-dark">2</div>
                    <div class="badge bg-secondary">3</div>
                    <div class="badge bg-secondary">4</div>
                    <div class="badge bg-secondary">5</div>
                    <div class="badge bg-secondary">6</div>
                    <div class="badge bg-secondary">7</div>
                    <div class="badge bg-secondary">8</div>
                    <div class="badge bg-secondary">9</div>
                    <div class="badge bg-secondary">10</div>
                    <div class="badge bg-secondary">11</div>
                    <div class="badge bg-secondary">12</div>
                    <div class="badge bg-secondary">13</div>
                    <div class="badge bg-secondary">14</div>
                    <div class="badge bg-secondary">15</div>
                    <div class="badge bg-secondary">16</div>
                    <div class="badge bg-secondary">17</div>
                    <div class="badge bg-secondary">18</div>
                    <div class="badge bg-secondary">19</div>
                    <div class="badge bg-secondary">20</div>
        </div>
    </div>
<input name="__RequestVerificationToken" type="hidden" value="CfDJ8Ils0ITJDdtEgtMF0jDdWKTiYONVdY0nyfq4WBH6gh6m-Gl8xfhPcEdDPiUV8yoZd0Z-VLXQ5a57jOWOPpD-3dcjbmuDb298FCTa1IN-j_aK5w9TdQY-RlasNsDuQJsK_SMyU2F1NMMZSdxOhspnYn4" /></form>

<form method="post" class="card p-4 current-question-card" id="equationsAnswerForm" action="/Equations?handler=Submit">
    
    <input type="hidden" name="Difficulty" value="1" />
    <input type="hidden" name="A" value="3" />
    <input type="hidden" name="B" value="4" />
    <input type="hidden" name="Operator" value="&amp;#xD7;" />
    <input type="hidden" name="TotalAnswered" value="1" />
    <input type="hidden" name="HistoryRaw" value='[{&quot;Text&quot;:&quot;3 \u0026#xD7; 4&quot;,&quot;Correct&quot;:0,&quot;User&quot;:&quot;0&quot;,&quot;IsCorrect&quot;:true}]' />

    <div class="d-flex align-items-center justify-content-center mb-3">
        <div class="display-3 me-3 operand-display">3</div>
        <div class="display-3 me-3 operand-display">&amp;#xD7;</div>
        <div class="display-3 me-3 operand-display">4</div>
        <div class="display-3 me-3 operand-display">=</div>
        <input type="text" name="UserAnswer" value="0" class="form-control equation-input" style="max-width:180px; font-size:2rem; font-weight:600;" autocomplete="off" />
    </div>

            <div class="alert alert-success">Dobrze!</div>

    <div class="d-flex gap-2">
            <input type="hidden" name="NextQuestion" value="true" />
            <button type="submit" class="btn btn-secondary">Następne pytanie</button>
    </div>
<input name="__RequestVerificationToken" type="hidden" value="CfDJ8Ils0ITJDdtEgtMF0jDdWKTiYONVdY0nyfq4WBH6gh6m-Gl8xfhPcEdDPiUV8yoZd0Z-VLXQ5a57jOWOPpD-3dcjbmuDb298FCTa1IN-j_aK5w9TdQY-RlasNsDuQJsK_SMyU2F1NMMZSdxOhspnYn4" /></form>

<script>
// Focus answer on load
setTimeout(() => {
  const inp = document.querySelector('input[name="UserAnswer"]');
  if (inp) inp.focus();
}, 0);

// Guard against double-submit - reset after answer checked
(function(){
    const form = document.getElementById('equationsAnswerForm');
    if (!form) return;
    
    // Check if we're showing "Następne pytanie" button and reset guard
    const nextQuestionField = form.querySelector('input[name="NextQuestion"][value="true"]');
    if (nextQuestionField) {
        form.dataset.submitted = 'false';
        // Re-enable buttons
        const btns = form.querySelectorAll('button[type="submit"]');
        btns.forEach(b => b.removeAttribute('disabled'));
    }
    
    form.addEventListener('submit', function(e){
        if (form.dataset.submitted === 'true') {
            e.preventDefault();
            return false;
        }
        form.dataset.submitted = 'true';
        const btns = form.querySelectorAll('button[type="submit"]');
        btns.forEach(b => b.setAttribute('disabled','disabled'));
    });
})();
</script>

<style>
.current-question-card:not(.answered) {
    box-shadow: 0 0 0.75rem rgba(255, 193, 7, 0.55);
    border: 2px solid #ffc107;
}
</style>

            </main>
        </div>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2025 - MultiplicationGame - <a href="/Privacy">Privacy</a>
        </div>
    </footer>

    <script src="/lib/jquery/dist/jquery.min.js"></script>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark " href="/">Home</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark " href="/Privacy">Privacy</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark " href="/Diagnostics">Diagnostyka</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark active" href="/Equations">Równania</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link text-dark " href="">Mnożenie / Dzielenie</a>
                                            </li>

    
</body>
</html>

